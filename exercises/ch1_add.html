<!doctype html><html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Lesson 1 ‚Äî add(a,b)</title><link rel="stylesheet" href="../assets/styles.css"><link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css"><script defer src="https://pyscript.net/latest/pyscript.js"></script><script defer src="../assets/app.js"></script></head><body><div class="card"><a href="../index.html">‚Üê Back</a><h1>Lesson 1: add(a,b)</h1><div class="hud"><div id="stars" class="badge">‚≠ê Stars: 0</div><div id="bugs" class="badge bug">üêû Bugs: 0</div></div><textarea id="editor" class="editor"># TODO: write add(a,b)
def add(a, b):
    return a + b</textarea><p><button id="run">Run ‚ñ∂</button></p><pre id="out"></pre></div><py-script>from js import document, localStorage

def gi(k):
    v = localStorage.getItem(k)
    try:
        return int(v) if v is not None else 0
    except: return 0

def setb(stars=None, bugs=None):
    if stars is not None: localStorage.setItem('stars', str(stars))
    if bugs is not None: localStorage.setItem('bugs', str(bugs))
    document.getElementById('stars').textContent = f'‚≠ê Stars: {gi("stars")}'
    document.getElementById('bugs').textContent  = f'üêû Bugs: {gi("bugs")}'

def run(evt):
    ns = {}
    src = document.getElementById('editor').value
    try:
        exec(src, ns)
        assert 'add' in ns, "Function 'add' is missing."
        assert ns['add'](2,3) == 5, 'add(2,3) should be 5.'
        assert ns['add'](-1,1) == 0, 'add(-1,1) should be 0.'
        document.getElementById('out').textContent = 'All checks passed! ‚≠ê'
        setb(stars=gi('stars')+1)
    except Exception as e:
        document.getElementById('out').textContent = 'Bug found: ' + str(e)
        setb(bugs=gi('bugs')+1)

document.getElementById('run').addEventListener('click', run)
setb()</py-script></body></html>
